<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="msapplication-config" content="/images/browserconfig.xml">
  <meta name="google-site-verification" content="XgZjCjedxF82a4b0z1Nr0FiopL5MQKta4RZweqPZaBY">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  
  <link rel="stylesheet" href="/lib/animate-css/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"note.siwei.info","root":"/","scheme":"Gemini","version":"8.0.0-rc.4","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":true,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Build things.">
<meta property="og:type" content="website">
<meta property="og:title" content="Siwei notes">
<meta property="og:url" content="https://note.siwei.info/index.html">
<meta property="og:site_name" content="Siwei notes">
<meta property="og:description" content="Build things.">
<meta property="article:author" content="Wey Gu | å¤æ€ä¸º">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://note.siwei.info/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'default'
  };
</script>

  <title>Siwei notes</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <main class="main">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
        <span class="toggle-line toggle-line-first"></span>
        <span class="toggle-line toggle-line-middle"></span>
        <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Siwei notes</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">æ€ä¸ºç¬”è®°</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-rÃ©sumÃ©">

    <a href="/resume/" rel="section"><i class="book fa-fw"></i>RÃ©sumÃ©</a>

  </li>
        <li class="menu-item menu-item-ç®€å†">

    <a href="/resume_chs/" rel="section"><i class="book fa-fw"></i>ç®€å†</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags<span class="badge">24</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories<span class="badge">4</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives<span class="badge">11</span></a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="heartbeat fa-fw"></i>Commonweal 404</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Wey Gu | å¤æ€ä¸º"
      src="/images/wey_pixel.png">
  <p class="site-author-name" itemprop="name">Wey Gu | å¤æ€ä¸º</p>
  <div class="site-description" itemprop="description">Build things.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">11</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/littlewey" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:littlewey@gmail.com" title="E-Mail â†’ mailto:littlewey@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/siweigu" title="Weibo â†’ https:&#x2F;&#x2F;weibo.com&#x2F;siweigu" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/littlewey" title="Twitter â†’ https:&#x2F;&#x2F;twitter.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/littlewey" title="FB Page â†’ https:&#x2F;&#x2F;www.facebook.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="https://instagram.com/littlewey" title="Instagram â†’ https:&#x2F;&#x2F;instagram.com&#x2F;littlewey" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </section>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </header>

      
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div id="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


      <div class="main-inner">
        

        <div class="content index posts-expand">
          
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/setup-kolla-ansible-openstack-cluster-in-vagrant-2020/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/setup-kolla-ansible-openstack-cluster-in-vagrant-2020/" class="post-title-link" itemprop="url">Setup Kolla-ansible OpenStack Cluster in Vagrant 2020</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-05-26 18:31:36" itemprop="dateCreated datePublished" datetime="2020-05-26T18:31:36+08:00">2020-05-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-03 22:22:26" itemprop="dateModified" datetime="2020-07-03T22:22:26+08:00">2020-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>This is a note on setting up kolla ansible openstack develop envrionment in your working machine.</p>
<p>I referred to this document: <a href="https://docs.openstack.org/kolla-ansible/latest/contributor/vagrant-dev-env.html" target="_blank" rel="noopener">https://docs.openstack.org/kolla-ansible/latest/contributor/vagrant-dev-env.html</a></p>
<p>I had done this in 2020 May on my old mac mini with Catalina ;-). With 20 GiB disk and 6GiB RAM assigned to one Vagrant spawned (virtualbox), the OpenStack Cluster is running pretty well, comparing to my previous setups ( multi-VMs based manually deployment and VM based Mirantis Fuel 9.0 deployment), itâ€™s obviously more reponsive with the help of the single node setup.</p>
<p>Here I leave the notes as a reference for you to have a playground easier.</p>
<h2 id="Preparation"><a href="#Preparation" class="headerlink" title="Preparation"></a>Preparation</h2><h3 id="Install-vagrant-and-plugins-needed"><a href="#Install-vagrant-and-plugins-needed" class="headerlink" title="Install vagrant and plugins needed"></a>Install vagrant and plugins needed</h3><p>Below is an example to do this on a macOS machine, to do that from other OS, refer to <a href="https://www.vagrantup.com/docs/installation/" target="_blank" rel="noopener">here</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">brew cask install virtualbox vagrant</span><br><span class="line"></span><br><span class="line">vagrant plugin install vagrant-hostmanager vagrant-vbguest</span><br><span class="line"></span><br><span class="line"><span class="comment"># if we need to resize disks after vagrant up</span></span><br><span class="line">vagrant plugin install vagrant-disksize</span><br></pre></td></tr></table></figure>

<h3 id="Clone-kolla-repo"><a href="#Clone-kolla-repo" class="headerlink" title="Clone kolla repo"></a>Clone kolla repo</h3><p>We need to clone below three repositories.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://opendev.org/openstack/kolla-cli</span><br><span class="line">git <span class="built_in">clone</span> https://opendev.org/openstack/kolla-ansible</span><br><span class="line">git <span class="built_in">clone</span> https://opendev.org/openstack/kolla</span><br></pre></td></tr></table></figure>

<h3 id="Customise-Vagrant-scripts"><a href="#Customise-Vagrant-scripts" class="headerlink" title="Customise Vagrant scripts"></a>Customise Vagrant scripts</h3><p>I found the configuration file out-of-box is no longer working/ out of repair for some time, below changes on <code>Vagrantfile</code>, <code>Vagrantfile.custom</code>,  and <code>bootstrap.sh</code> are needed.</p>
<p>For Vagrantfile.custom, we need to use Ubuntu 18.04 instead of 16.04, which comes with python3.6+ in apt repo.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/setup-kolla-ansible-openstack-cluster-in-vagrant-2020/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/setup-your-ubuntu-server-in-ipados-with-utm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/setup-your-ubuntu-server-in-ipados-with-utm/" class="post-title-link" itemprop="url">Setup your ubuntu server in iPadOS with UTM</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-04-11 18:30:11" itemprop="dateCreated datePublished" datetime="2020-04-11T18:30:11+08:00">2020-04-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-03 22:20:23" itemprop="dateModified" datetime="2020-07-03T22:20:23+08:00">2020-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/random-notes/" itemprop="url" rel="index"><span itemprop="name">random notes</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>This is the note on serving your Ubuntu server from iPadOS/ iOS with UTM, I am running 0.8 now.</p>
<blockquote>
<p>Download image</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://cloud-images.ubuntu.com/bionic/current/bionic-server-cloudimg-amd64.img</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Configure Password for the image, here we use chroot instead of config drive, the reason is at bottom.</p>
</blockquote>
<p>Use chroot to set password for the cloud image as follow:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> modprobe nbd max_part=1</span><br><span class="line"><span class="variable">$sudo</span> qemu-nbd --connect=/dev/nbd0 bionic-server-cloudimg-amd64.img</span><br><span class="line"><span class="variable">$mkdir</span> -p /mnt/nbd</span><br><span class="line"><span class="variable">$sudo</span> mount /dev/nbd0p1 /mnt/nbd/ -o noatime</span><br><span class="line"><span class="variable">$chroot</span> /mnt/nbd</span><br><span class="line">ubuntu<span class="comment"># passwd</span></span><br><span class="line">ubuntu<span class="comment"># exit</span></span><br><span class="line"><span class="variable">$sudo</span> qemu-nbd --disconnect /dev/nbd0</span><br><span class="line"><span class="variable">$sudo</span> umount /dev/nbd0p1</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/setup-your-ubuntu-server-in-ipados-with-utm/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/cobbler-provisioning-via-l3-and-dhcp-relay-a-poc/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/cobbler-provisioning-via-l3-and-dhcp-relay-a-poc/" class="post-title-link" itemprop="url">Cobbler provisioning via L3 and DHCP Relay, a PoC</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-29 14:51:05" itemprop="dateCreated datePublished" datetime="2020-03-29T14:51:05+08:00">2020-03-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-03 22:18:12" itemprop="dateModified" datetime="2020-07-03T22:18:12+08:00">2020-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/experiment-notes/" itemprop="url" rel="index"><span itemprop="name">experiment notes</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Enable-cobbler-provisioning-via-L3-DHCP-relay"><a href="#Enable-cobbler-provisioning-via-L3-DHCP-relay" class="headerlink" title="Enable cobbler provisioning via L3 DHCP relay"></a>Enable cobbler provisioning via L3 DHCP relay</h2><p>I would like to setup a minimal PoC for Cobbler provisioning via DHCP relay, I will use virtualbox to spawn:</p>
<p>Three VMs:</p>
<ul>
<li>Cobbler server in subnet A, letâ€™s call it cobbler_server.</li>
<li>A machine to be provisioned in subnet B, itâ€™s named as machine_0.</li>
<li>vRouter wired above machines in two subnets, itâ€™s named as vrouter.</li>
</ul>
<p>To create two subnets:</p>
<ul>
<li>subnet_A, vboxnet0: <code>192.168.56.0/24</code></li>
<li>subnet_B, vboxnet1: <code>192.168.57.0/24</code></li>
</ul>
<p>And it should be like this:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">+-------------+        +-------------+        +-------------+</span><br><span class="line">|             |        |     vRouter |        |   machine_0 |</span><br><span class="line">|             |        |192.168.56.10|        |             |</span><br><span class="line">|           +-+        +-+           |        |             |</span><br><span class="line">|           | |00000000| rr          |        |             |</span><br><span class="line">|           +-+        +-+r          |        |             |</span><br><span class="line">|192.168.56.11|        |  r          |        |             |</span><br><span class="line">|             |        |  r          |        |             |</span><br><span class="line">|             |        |  r          |        |             |</span><br><span class="line">|             |        |  r        +-+        +-+           |</span><br><span class="line">| Cobbler     |        |  rrrrrrrrr| |11111111| |           |</span><br><span class="line">| Server      |        |           +-+        +-+           |</span><br><span class="line">|             |        |192.168.57.10|        |             |</span><br><span class="line">+-------------+        +-------------+        +-------------+</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">0000000 subnet A: vboxnet0     +-+</span><br><span class="line">                               | | network interface</span><br><span class="line">1111111 subnet B: vboxnet1     +-+</span><br><span class="line"></span><br><span class="line">rrrrrrr DHCP Relay</span><br></pre></td></tr></table></figure>

<p>Then we could use cobbler_server to provision a OS to machine_0.</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/cobbler-provisioning-via-l3-and-dhcp-relay-a-poc/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/distributed-bugs-are-often-latent-a-troubleshoot-story/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/distributed-bugs-are-often-latent-a-troubleshoot-story/" class="post-title-link" itemprop="url">Distributed bugs are often latent: a Troubleshoot Story</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-02-28 10:10:02" itemprop="dateCreated datePublished" datetime="2020-02-28T10:10:02+08:00">2020-02-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-03 22:22:10" itemprop="dateModified" datetime="2020-07-03T22:22:10+08:00">2020-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>OpenStack, as a nested distributed system(where some of the subsystems are distributed systems), to troubleshoot on it could be quite tricky, not to mention its interdependence with other distributed systems in real word.</p>
<p>We all share the feelings on how hard it is to solve a hidden issue in a distributed system as each call during a chain of invocation is unpredictable, the methods/ tools for sniffing/ tracking each part are either too hard, incapable, outside of control, or too expensive.</p>
<p>The trigger made me composing this blog is the article: <a href="https://aws.amazon.com/builders-library/challenges-with-distributed-systems/" target="_blank" rel="noopener">Challenges with distributed systems</a> from <a href="https://twitter.com/jacobgabrielson" target="_blank" rel="noopener">Jacob Gabrielson</a>, where Jacob expounded how and why designing/ managing a request/response distributed system is challenging. I recommend to read it ğŸ˜Š. </p>
<p>The story in this blog is a troubleshoot case I solved in a customer staging network years ago, where OpenStack clusters were integrated with some other different (virtual) Network Function clusters.</p>
<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>There were many OpenStack Clusters onsite, with different VNFs running on top of them. </p>
<ul>
<li><p>Two months before I arrived the customer site, the alarm <code>[NTP Upstream Server Failure]</code> was raised in one of the OpenStack Cluster.</p>
</li>
<li><p>Every party involved on this issue had looked into it jointly and each of them claimed they are all good: no clue to move on, and after the whole siteâ€™s yearly power down and up activity, the issue was gone. </p>
</li>
<li><p>One week ago, after a control plane nodes reboot, this alarm was raised again on another OpenStack Cluster.</p>
</li>
</ul>
<p>Reviewing everything to have the pattern of the issue:</p>
<ul>
<li><p>There were two types of servers acted as upstream NTP for Openstack Clusters. Letâ€™s say NTP-A and NTP-B, they were actually not dedicated NTP servers but a more heavy network function(NF):</p>
<!--
<img src="./distributed-bugs-are-often-latent-a-troubleshoot-story/NTP_Openstack_0.png" alt="NTP_Openstack_0" style="zoom:50%;" />
-->
<img src="/distributed-bugs-are-often-latent-a-troubleshoot-story/NTP_Openstack_0.png" class="">

<ul>
<li>NTP-A was the one associated with the issue OpenStack Clusters, which was a VNF running in Linux.</li>
<li>NTP-B was a native NF in Solaris, to be repalced by NTP-A in future. #Customer has reasons to worry the issue more ğŸ˜œ.</li>
</ul>
</li>
<li><p>The OpenStack side claimed they were good because they captured the NTP client packet sent to NTP-A and no response recieved.</p>
</li>
<li><p>The other side checked everything around NTP configuration, network etc. nothing abnormal was sorted out. Thus they had to blame the OpenStack side as there were other systems utilizing their NTP-A as upstream NTP, while no issues had encounterred.</p>
</li>
<li><p>Then both side suspected the packet was dropped somehow between NTP-A and OpenStack Cluster: the networking/ switches.</p>
<ul>
<li>The switch team observed nothing pointing to packet drop from the traffic .</li>
<li>Even though there was chance they didnâ€™t capture the drop on right time, why only OpenStackâ€™s NTP request not responded?</li>
<li>Was this issue happening in small frequency?</li>
</ul>
</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/distributed-bugs-are-often-latent-a-troubleshoot-story/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/jupyter-notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/jupyter-notes/" class="post-title-link" itemprop="url">jupyter pyenv and virtualenv in macOS</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-03-27 14:53:50" itemprop="dateCreated datePublished" datetime="2019-03-27T14:53:50+08:00">2019-03-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-03 22:15:23" itemprop="dateModified" datetime="2020-07-03T22:15:23+08:00">2020-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/random-notes/" itemprop="url" rel="index"><span itemprop="name">random notes</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>Conbined with <code>pyenv</code>  <code>virtualenv</code> and <code>Jupyter kernal specification</code>, we could have different versions of project-specific python wrapper as below.</p>
<p>This article includes needed information on enabling this.</p>
</blockquote>
<h1 id="pyenv"><a href="#pyenv" class="headerlink" title="pyenv"></a>pyenv</h1><blockquote>
<p>ref: <a href="https://github.com/pyenv/pyenv/issues/1219" target="_blank" rel="noopener">https://github.com/pyenv/pyenv/issues/1219</a></p>
</blockquote>
<p><code>zlib not available</code>, one thing to highlight is to enable zlib, we have to do this:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install</span><br><span class="line">sudo installer -pkg /Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg -target /</span><br></pre></td></tr></table></figure>

<p>Below are things we need to ensure pyenv magically modified our enviroment variables to point specific version of python.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ brew install pyenv</span><br><span class="line">$ <span class="built_in">cd</span> &lt;project_path&gt;</span><br><span class="line">$ pyenv install 3.6.8</span><br><span class="line">$ pyenv <span class="built_in">local</span> 3.6.8</span><br><span class="line">$ pyenv init</span><br><span class="line"><span class="comment"># Load pyenv automatically by appending</span></span><br><span class="line"><span class="comment"># the following to ~/.zshrc:</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$(pyenv init -)</span>"</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">which</span> python</span><br><span class="line">/usr/<span class="built_in">local</span>/bin/python</span><br><span class="line">$ <span class="built_in">eval</span> <span class="string">"<span class="variable">$(pyenv init -)</span>"</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">which</span> python</span><br><span class="line">/Users/&lt;user&gt;/.pyenv/shims/python</span><br></pre></td></tr></table></figure>



<h2 id="jupyter-IPython-kernel-management"><a href="#jupyter-IPython-kernel-management" class="headerlink" title="jupyter/IPython kernel management"></a>jupyter/IPython kernel management</h2><blockquote>
<p>ref: <a href="https://ipython.readthedocs.io/en/latest/install/kernel_install.html" target="_blank" rel="noopener">https://ipython.readthedocs.io/en/latest/install/kernel_install.html</a></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ jupyter kernelspec list</span><br><span class="line">Available kernels:</span><br><span class="line">  python3    /usr/<span class="built_in">local</span>/share/jupyter/kernels/python3</span><br><span class="line"></span><br><span class="line">$ python -m virtualenv py36</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">source</span> py36/bin/activate</span><br><span class="line"></span><br><span class="line">$ pip install ipykernel</span><br><span class="line"></span><br><span class="line">$ python -m ipykernel install --user --name py36 --display-name <span class="string">"ProjectName py36"</span></span><br><span class="line"></span><br><span class="line">$ jupyter kernelspec list</span><br><span class="line">Available kernels:</span><br><span class="line">  py36       /Users/&lt;user&gt;/Library/Jupyter/kernels/py36</span><br><span class="line">  python3    /usr/<span class="built_in">local</span>/share/jupyter/kernels/python3</span><br></pre></td></tr></table></figure>

<p>Then, from the jupyter notebook webpage, you could select kernels from <code>Kernel: Change Kernel</code></p>
<h2 id="matplotlib-calling-latex-failed-on-macOS"><a href="#matplotlib-calling-latex-failed-on-macOS" class="headerlink" title="matplotlib calling latex failed on macOS"></a><code>matplotlib</code> calling <code>latex</code> failed on macOS</h2><blockquote>
<p>plot call failed due to latex could not be invoked</p>
</blockquote>
<h3 id="Root-cause"><a href="#Root-cause" class="headerlink" title="Root cause"></a>Root cause</h3><p>LaTeX was not installed or cannot be called from<code>latex</code></p>
<h3 id="Minimal-reproducing"><a href="#Minimal-reproducing" class="headerlink" title="Minimal reproducing"></a>Minimal reproducing</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import subprocess; subprocess.check_call(<span class="string">"latex"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># FileNotFoundError: [Errno 2] No such file or directory: 'latex': 'latex'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># or from shell</span></span><br><span class="line"></span><br><span class="line">$ latex</span><br><span class="line"><span class="comment"># latex not found</span></span><br></pre></td></tr></table></figure>

<h3 id="Fix"><a href="#Fix" class="headerlink" title="Fix"></a>Fix</h3><ul>
<li>install Tex Live for macOS</li>
<li>append <code>PATH</code> for <code>/Library/TeX/texbin</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://tug.org/cgi-bin/mactex-download/MacTeX.pkg</span><br><span class="line"><span class="comment"># checksum and install MacTeX.pkg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># assuming you are using zsh</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">'export PATH="$PATH:/Library/TeX/texbin"'</span> &gt;&gt; ~/.zshrc</span><br><span class="line"></span><br><span class="line"><span class="comment"># assuming you are using bash</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">'export PATH="$PATH:/Library/TeX/texbin"'</span> &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="Verify-it"><a href="#Verify-it" class="headerlink" title="Verify it"></a>Verify it</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> PATH=<span class="string">"<span class="variable">$PATH</span>:/Library/TeX/texbin"</span></span><br><span class="line">$ latex --version</span><br><span class="line">pdfTeX 3.14159265-2.6-1.40.19 (TeX Live 2018)</span><br><span class="line">kpathsea version 6.3.0</span><br><span class="line">Copyright 2018 Han The Thanh (pdfTeX) et al.</span><br><span class="line">There is NO warranty.  Redistribution of this software is</span><br><span class="line">covered by the terms of both the pdfTeX copyright and</span><br><span class="line">the Lesser GNU General Public License.</span><br><span class="line">For more information about these matters, see the file</span><br><span class="line">named COPYING and the pdfTeX <span class="built_in">source</span>.</span><br><span class="line">Primary author of pdfTeX: Han The Thanh (pdfTeX) et al.</span><br><span class="line">Compiled with libpng 1.6.34; using libpng 1.6.34</span><br><span class="line">Compiled with zlib 1.2.11; using zlib 1.2.11</span><br><span class="line">Compiled with xpdf version 4.00</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/" class="post-title-link" itemprop="url">Project Resource Board: a scalable webapp with Flask socketio and Vue.js</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-02-16 22:27:28" itemprop="dateCreated datePublished" datetime="2019-02-16T22:27:28+08:00">2019-02-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-03 22:16:49" itemprop="dateModified" datetime="2020-07-03T22:16:49+08:00">2020-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/build-notes/" itemprop="url" rel="index"><span itemprop="name">build notes</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <img src="/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/arch_diagram_0.png" class="">

<h1 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h1><p>æˆ‘åœ¨åšä¸€ä¸ªå«åš resource boardçš„ side projectï¼Œ å®ƒæ˜¯ä¸€ä¸ªæ–¹ä¾¿å›¢é˜Ÿåä½œä¸­ä½¿ç”¨å…±äº«èµ„æºçš„web appã€‚</p>
<p>æœ¬æ–‡æ˜¯æˆ‘åœ¨å†™ç¬¬ä¸€ä¸ªå‘å¸ƒç‰ˆæœ¬ä¹‹å‰æŒç»­æ›´æ–°çš„è®°å½•ã€‚</p>
<blockquote>
<p>updated in <code>2019-April-6</code></p>
<p>ä»¥å•ä½“æ¶æ„å…ˆå®ç°äº†å¯ç”¨çš„ç‰ˆæœ¬ï¼Œéƒ¨ç½²åœ¨å…¬å¸å†…ç½‘ç»™é¡¹ç›®ä½¿ç”¨ä¸Šäº†ï¼Œä¹Ÿå…¬å¸ƒä¸€ä¸‹ä»£ç ï¼š</p>
<p><a href="https://github.com/littlewey/resource-board" target="_blank" rel="noopener">https://github.com/littlewey/resource-board</a></p>
<p>ä¹‹åæˆ‘ä¼šèŠ±æ—¶é—´è¿­ä»£ä¸‹å»ï¼Œä¸è¿‡ç°åœ¨è¯¾ä½™æ—¶é—´åœ¨åšä¸€ä¸ªæœºå™¨å­¦ä¹ è°ƒä¼˜çš„é¡¹ç›®ï¼Œè¿™ä¸ªä¼˜å…ˆçº§åªèƒ½é™ä½ã€‚</p>
</blockquote>
<h1 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h1><blockquote>
<p>ä¸ºä»€ä¹ˆå¼€å§‹</p>
</blockquote>
<p>åœ¨äº‘è®¡ç®—ç ”å‘éƒ¨é—¨æ¬ç –åŠå¹´ï¼Œä¸€ç›´åšä¸€äº›å¾ˆå°çš„featureå¼€å‘ï¼Œè¿ç€å‡ ä¸ªæœˆæ—©å‡ºæ™šå½’åŠ ä¸Šç‰ºç‰²å‘¨æœ«æ—¶é—´çš„èµ¶è¿›åº¦è®©æˆ‘å†…å¿ƒå¾ˆä¸å¹³é™ã€‚æˆ‘éœ€è¦åšç‚¹ä»€ä¹ˆï¼Œå› ä¸ºæœ¬è´¨ä¸Šæˆ‘çƒ­çˆ±çš„æ˜¯ <code>build things</code>ï¼Œåšä¸€ä¸ª<code>proper side project</code> çš„ä¸»æ„åœ¨è„‘å­é‡Œè½¬äº†å¥½ä¹…äº†ï¼Œæˆ‘å†³å®šå…ˆåšä¸€ä¸ªç®€å•çš„ä¸œè¥¿å‡ºæ¥ã€‚</p>
<p>è¿™ä¸ªä¸œè¥¿å°±æ˜¯ä¸€ä¸ª <code>resource board</code> ã€‚</p>
<blockquote>
<p>å­¦åˆ°ä»€ä¹ˆ</p>
</blockquote>
<p><code>resourece borard</code> æ˜¯æˆ‘èµ·çš„åå­—ï¼Œå…¶å®å°±æ˜¯ä¸€ä»½åœ¨çº¿çš„è¡¨æ ¼ã€é¢æ¿ï¼Œæœ¬è´¨ä¸Šç”¨ <code>O365</code> / <code>onedrive for business</code> å®Œå…¨å¯ä»¥å®ç°ç±»ä¼¼çš„åŠŸæ•ˆã€‚ä¸è¿‡æˆ‘è¿˜æ˜¯æƒ³é€ è¿™æ ·ä¸€ä¸ªè½®å­ï¼Œæ¶‰åŠä¸€ä¸‹äº§å“å¼€å‘çš„å…¨ç”Ÿå‘½å‘¨æœŸçš„ä»æ— åˆ°æœ‰çš„åˆ›é€ ã€å­¦ä¹ ã€å®è·µï¼š</p>
<ul>
<li>planning, prototyping</li>
<li>architecture</li>
<li>front end</li>
<li>back end</li>
<li>CI/ CD</li>
<li>maintenance</li>
<li>refactoring<ul>
<li>for test</li>
<li>for scale</li>
</ul>
</li>
<li>tuning</li>
</ul>
<blockquote>
<p>User story of resource board</p>
</blockquote>
<p><code>resource board</code> ä¸»è¦è§£å†³å¼‚åœ°å›¢é˜Ÿåä½œä¸­å¯¹å…±äº«èµ„æºä½¿ç”¨çš„é—®é¢˜ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”µå­åŒ–çš„èµ„æºä½¿ç”¨ç™½æ¿ã€‚</p>
<p>è¯•æƒ³ä¸€ä¸‹æ²¡æœ‰èµ„æºå ç”¨ç™½æ¿çš„æ—¶å€™ï¼Œå›¢é˜Ÿé‡Œçš„äººå…±äº«10ä¸ªè™šæ‹ŸåŒ–æ•°æ®ä¸­å¿ƒï¼Œæˆ‘ä»¬ç®€ç§° <code>DC</code> ï¼Œå¯¹äºå®ƒçš„ä½¿ç”¨åˆ†å‡ ä¸ªåœºæ™¯ï¼š</p>
<ul>
<li>CI <ul>
<li>è¢«CIå ç”¨ï¼Œæ²¡æœ‰å†è§¦å‘CIè°ƒç”¨å®ƒçš„äººä¸å¯ä»¥å¹²é¢„</li>
</ul>
</li>
<li>testing<ul>
<li>è¢«éç‹¬å å¼çš„äººä½¿ç”¨ä¸­ï¼Œç‰¹å®šçš„äººå¯ä»¥å¹¶è¡Œä½¿ç”¨å®ƒï¼Œï¼ˆç†æƒ³æƒ…å†µä¸‹ï¼‰ä¸ä¼šå¹²æ‰°åˆ°å½¼æ­¤</li>
</ul>
</li>
<li>occupied<ul>
<li>è¢«äººç‹¬å ä½¿ç”¨ï¼Œä¸å¯ä¸åˆ«äººå…±äº«</li>
</ul>
</li>
<li>free<ul>
<li>ä»»ä½•äººå¯ä»¥ä½¿ç”¨å®ƒï¼Œæˆ–è€…æŒªä½œå…¶ä»–ç”¨é€”</li>
</ul>
</li>
</ul>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨å®ƒçš„AåŒå­¦éœ€è¦ç«™èµ·æ¥å‘Šè¯‰æ‰€æœ‰äººï¼Œæˆ–è€…ç¾¤å‘é‚®ä»¶ï¼Œè¯´æˆ‘è¦ç”¨ <code>DC123</code> ç‹¬å è°ƒè¯•ä¸€ä¸ªä»£ç ï¼Œæœ‰äººåœ¨ç”¨ä¹ˆï¼Ÿ 10åˆ†é’Ÿåï¼Œåœ¨æ³¨æ„åˆ°æ²¡äººå›å¤çš„æƒ…å†µä¸‹ï¼Œtaå°±åœ¨ <code>DC123</code>ä¸Šå¼€å§‹<del>åšåäº‹</del> è°ƒè¯•taçš„ä»£ç äº†ã€‚ç„¶è€Œåˆšä»å•æ‰€å›æ¥çš„BåŒå­¦ï¼Œå´å‘ç°taçš„ç¯å¢ƒè¢«ç ´åäº†ï¼ŒåŠå¤©ç™½å¿™æ´»äº†ğŸ˜¢ã€‚</p>
<p>å¦‚æœè¿™ä¸ªèµ„æºå…±äº«çš„å·¥ä½œæ–¹å¼ä¹‹ä¸­å¼•å…¥äº†è®°å½•èµ„æºå ç”¨æƒ…å†µçš„ç™½æ¿ï¼ŒAåŒå­¦åªéœ€è¦çœ‹ä¸€ä¸‹ç™½æ¿ä¸Šç©ºé—²çš„DCï¼Œå‘ç°<code>DC125</code> å¯ä»¥ä½¿ç”¨ï¼Œä»–å¯ä»¥åšåˆ°ï¼š</p>
<ul>
<li>æ— éœ€ç­‰å¾…ç¡®è®¤å¹¿æ’­ä¿¡æ¯çš„å›å¤ç«‹åˆ»ä½¿ç”¨ <code>DC125</code></li>
<li>ä¸ä¼šç ´åä»»ä½•è¢«å ç”¨çš„èµ„æºç¯å¢ƒæ¯”å¦‚ <code>DC123</code> </li>
</ul>
<p>çœ‹èµ·æ¥æ¯”è¾ƒè‡ªç„¶ã€‚</p>
<h1 id="Planning"><a href="#Planning" class="headerlink" title="Planning"></a>Planning</h1><h2 id="å…³é”®ç‚¹"><a href="#å…³é”®ç‚¹" class="headerlink" title="å…³é”®ç‚¹"></a>å…³é”®ç‚¹</h2><ul>
<li>æ•°å­—åŒ–ç™½æ¿åº”è¯¥æ˜¯ä¸€ä¸ªWep App</li>
<li>å®ƒéœ€è¦æ˜¯å®æ—¶çš„<ul>
<li>æ”¯æŒé¢å‘è¿æ¥çš„(server â€”&gt; client)</li>
</ul>
</li>
<li>å¯æ‰©å±•ï¼Œå¯æ‰©å®¹<ul>
<li>åç«¯<ul>
<li>åªåšapi</li>
<li>åˆ†å¸ƒå¼ï¼Œå¯scale up</li>
</ul>
</li>
<li>å‰ç«¯<ul>
<li>single page client</li>
<li>websocket</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ç®€å•åŸå‹"><a href="#ç®€å•åŸå‹" class="headerlink" title="ç®€å•åŸå‹"></a>ç®€å•åŸå‹</h2><p>æˆ‘ç”¨Balsamiq Mockups ç®€å•åšäº†ä¸€ä¸ªåŸå‹ï¼š</p>
<ul>
<li>ç”¨å¡ç‰‡è¡¨ç¤ºæ¯ä¸€ä¸ªèµ„æºçš„ä¿¡æ¯</li>
<li>ä¸åŒçš„sectionè¡¨ç¤ºèµ„æºè¢«ä½¿ç”¨çš„çŠ¶æ€ï¼Œæˆ–è€…åˆ†ç±»</li>
<li>æä¾›é¢å‘èµ„æºçš„å†å²æŸ¥çœ‹é¡µé¢</li>
</ul>
<p>æˆ‘æ²¡æœ‰èŠ±æ›´å¤šæ—¶é—´å»ç”»æ›´è¯¦ç»†çš„åŸå‹å›¾ï¼Œåªæ˜¯åœ¨ç”»è¿™ä¸ªåˆå§‹çš„ç‰ˆæœ¬çš„è¿‡ç¨‹ä¸­å¼•å¯¼æˆ‘æ€è€ƒæˆ‘åˆå§‹çš„æ•°æ®schemaï¼Œå‰åç«¯æœ€å¼€å§‹è¦åšçš„äº‹æƒ…ï¼Œä¸€æ—¦é›å½¢ç¡®å®šä¸‹æ¥ï¼Œæˆ‘å°±ç›´æ¥è¿›å…¥å‰åç«¯çš„å¼€å‘ï¼Œåœ¨å¼€å‘ä¸­ç›´æ¥å®ç°ä¸šåŠ¡é€»è¾‘çš„è¿›åŒ–ã€‚</p>
<blockquote>
<p> è¿™é‡Œæ˜¯æˆ‘æˆªå–çš„åŸå‹å›¾çš„demoåŠ¨ç”» ğŸ˜</p>
</blockquote>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/project-resource-board-a-scalable-webapp-with-flask-socketio-and-vue-js/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/notes-after-creating-a-fuel-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/notes-after-creating-a-fuel-plugin/" class="post-title-link" itemprop="url">notes after creating a fuel plugin</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-01-17 10:15:12" itemprop="dateCreated datePublished" datetime="2019-01-17T10:15:12+08:00">2019-01-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-27 15:33:23" itemprop="dateModified" datetime="2020-05-27T15:33:23+08:00">2020-05-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h1><p>è¿™ç¯‡æ–‡ç« æ˜¯æˆ‘åšä¸€ä¸ªå†…éƒ¨ knowledge sharingå‡†å¤‡çš„æ–‡æ¡£ï¼Œä»‹ç»äº†å¦‚ä½•åŸºäºMIranis fuelçš„å¹³å°å¼€å‘ä¸€ä¸ªfuel pluginï¼Œæˆ‘ç”¨äº†ä¸€ä¸ªæ­»äº†çš„é¡¹ç›® nova-dockerä½œä¸ºå®é™…çš„ä¾‹å­ã€‚</p>
<h1 id="Build-a-fuel-plugin-from-scrash"><a href="#Build-a-fuel-plugin-from-scrash" class="headerlink" title="Build a fuel plugin from scrash"></a>Build a fuel plugin from scrash</h1><blockquote>
<p><strong>Live demo:</strong></p>
<p>Letâ€™s try to build a fuel plugin enables nova-docker</p>
<p>Code put here: <a href="https://github.com/littlewey/fuel-plugin-nova-docker" target="_blank" rel="noopener">https://github.com/littlewey/fuel-plugin-nova-docker</a></p>
</blockquote>
<h2 id="Create-fuel-plugin-for-nova-docker"><a href="#Create-fuel-plugin-for-nova-docker" class="headerlink" title="Create fuel plugin for nova-docker"></a>Create fuel plugin for <code>nova-docker</code></h2><p><strong>Steps needed:</strong></p>
<ul>
<li>Step 1 Installation packages<ul>
<li>install nova-docker</li>
<li>install dependency (docker)</li>
</ul>
</li>
<li>Step 2 configuration<ul>
<li>configuration on nova compute</li>
<li>configuration on nova controller</li>
</ul>
</li>
</ul>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/notes-after-creating-a-fuel-plugin/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/openstack-basic-for-newbie/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/openstack-basic-for-newbie/" class="post-title-link" itemprop="url">Openstack Basic for newbie</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-01-01 14:27:30" itemprop="dateCreated datePublished" datetime="2019-01-01T14:27:30+08:00">2019-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-29 10:52:39" itemprop="dateModified" datetime="2020-05-29T10:52:39+08:00">2020-05-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>æ•´ç†äº†ä¸€ä¸‹2017å¹´8æœˆä»½å†…éƒ¨åšçš„ä¸€ä¸ªtrainingçš„slideï¼Œå»é™¤äº†ä¸èƒ½å…¬å¸ƒçš„éƒ¨åˆ†ï¼Œæ”¾åœ¨<a href="https://github.com/littlewey/workshops/blob/master/00-Openstack-Basic/release/Openstack_Basic_Blog.pdf" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p>
<p>é‚£æ¬¡çš„trainingæ˜¯é’ˆå¯¹telco. engineerså¼€å§‹å­¦ä¹ NFViçš„çŸ¥è¯†çš„ä¸ºæœŸä¸€å‘¨çš„ï¼Œæ¯å¤©åŠå¤©sessionçš„é›†ä¸­å…¥é—¨ã€‚å‰ä¸¤å¤©æ˜¯è®²è§£è¿™ä¸ªslideï¼Œåä¸‰å¤©æ˜¯hands-onçš„æ‰‹åŠ¨å®‰è£…åŸºäºUbuntu VMé›†ç¾¤ä¸Šçš„Openstack Oã€‚</p>
<p>hands-onçš„éƒ¨åˆ†æˆ‘å†™æˆäº†å•ç‹¬çš„noteï¼Œä¹Ÿæ”¾åœ¨<a href="https://note.siwei.info/deploy-openstack-o-on-self-privisoned-virtualbox-ubuntu-vms-manually/">è¿™é‡Œ</a>ã€‚</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/deploy-openstack-o-on-self-privisoned-virtualbox-ubuntu-vms-manually/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/deploy-openstack-o-on-self-privisoned-virtualbox-ubuntu-vms-manually/" class="post-title-link" itemprop="url">deploy Openstack O on self privisoned virtualbox Ubuntu VMs manually</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-01-01 14:04:47" itemprop="dateCreated datePublished" datetime="2019-01-01T14:04:47+08:00">2019-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-29 10:51:57" itemprop="dateModified" datetime="2020-05-29T10:51:57+08:00">2020-05-29</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/openstack/" itemprop="url" rel="index"><span itemprop="name">openstack</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>ä»Šå¤©ï¼ŒæŠŠæˆ‘ä¹‹å‰åœ¨å…¬å¸å†…éƒ¨ç»™åŒäº‹ä»¬åŸ¹è®­Openstack ä»‹ç»çš„noteæ”¾åˆ°è¿™é‡Œï¼Œæ˜¯ä¸€å¹´å¤šä¹‹å‰åŸºäºå½“æ—¶çš„Oç‰ˆæœ¬çš„Ubuntuçš„éƒ¨ç½²ï¼Œå¯¹äºåˆå­¦çš„åŒå­¦ä¹Ÿè®¸æœ‰ä¸€äº›å¸®åŠ©ï¼Œä¸è¿‡å…¶å®æ•´ä¸ªè¿‡ç¨‹æ— éå°±æ˜¯å‚ç…§å®˜æ–¹å®‰è£…çš„guideè€Œå·²ã€‚</p>
</blockquote>
<h1 id="Installation-Guide"><a href="#Installation-Guide" class="headerlink" title="Installation Guide"></a>Installation Guide</h1><p>Latest version: <a href="https://github.com/littlewey/workshops/blob/master/00-Openstack-Basic/installation-openstack-ubuntu-note.md" target="_blank" rel="noopener">installation-openstack-ubuntu-note.md</a> hosted on <em>Github.com/littlewey</em></p>
<blockquote>
<p>ref: <a href="https://docs.openstack.org/install-guide" target="_blank" rel="noopener">https://docs.openstack.org/install-guide</a></p>
</blockquote>
<p>Ubuntu was chosen as host OS.</p>
<blockquote>
<p>â€œItâ€™s a good way to learn by installing it manually for as many services as you could :-) .â€</p>
<p>â€‹                                                                                                           Wey Gu </p>
</blockquote>
<h2 id="Host-networking"><a href="#Host-networking" class="headerlink" title="Host networking"></a>Host networking</h2><blockquote>
<p>ref: <a href="https://docs.openstack.org/install-guide/environment-networking.html" target="_blank" rel="noopener">https://docs.openstack.org/install-guide/environment-networking.html</a></p>
</blockquote>
<blockquote>
<p>ref: <a href="https://help.ubuntu.com/lts/serverguide/network-configuration.html" target="_blank" rel="noopener">https://help.ubuntu.com/lts/serverguide/network-configuration.html</a></p>
</blockquote>
<p>The example architectures assume use of the following networks:</p>
<ul>
<li><p>Management on 10.0.0.0/24 with gateway 10.0.0.1</p>
<p>This network requires a gateway to provide Internet access to all nodes for administrative purposes such as package installation, security updates, DNS, and NTP.</p>
</li>
<li><p>Provider on 203.0.113.0/24 with gateway 203.0.113.1</p>
<p>This network requires a gateway to provide Internet access to instances in your OpenStack environment.</p>
</li>
</ul>
<h3 id="My-network-solution"><a href="#My-network-solution" class="headerlink" title="My network solution"></a>My network solution</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Net0:</span><br><span class="line">	Network name: VirtualBox  host-only Ethernet Adapter</span><br><span class="line">	Purpose: administrator / management network</span><br><span class="line">	IP block: 10.20.0.0/24</span><br><span class="line">	DHCP: <span class="built_in">disable</span></span><br><span class="line">	Linux device: eth0</span><br><span class="line"></span><br><span class="line">Net1:</span><br><span class="line">	Network name: VirtualBox  host-only Ethernet Adapter<span class="comment">#2</span></span><br><span class="line">	Purpose: Provider network</span><br><span class="line">	DHCP: <span class="built_in">disable</span></span><br><span class="line">	IP block: 172.16.0.0/24</span><br><span class="line">	Linux device: eth1</span><br><span class="line"></span><br><span class="line">Net2ï¼š</span><br><span class="line">	Network name: VirtualBox  host-only Ethernet Adapter<span class="comment">#3</span></span><br><span class="line">	Purpose: Storage network</span><br><span class="line">	DHCP: <span class="built_in">disable</span></span><br><span class="line">	IP block: 192.168.99.0/24</span><br><span class="line">	Linux device: eth2</span><br><span class="line"></span><br><span class="line">Net3ï¼š</span><br><span class="line">	Network name: VirtualBox  Bridged or NAT // <span class="keyword">for</span> accessing network or remote access purpose</span><br><span class="line">	Purpose: Internet</span><br><span class="line">	DHCP: <span class="built_in">enable</span></span><br><span class="line">	IP block: &lt;depend on your network&gt;</span><br><span class="line">	Linux device: eth3</span><br></pre></td></tr></table></figure>





<p>Edit the <code>/etc/network/interfaces</code> file to contain the following:</p>
<p>Replace <code>INTERFACE_NAME</code> with the actual interface name. For example, <em>eth1</em> or <em>ens224</em>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The provider network interface</span></span><br><span class="line">auto INTERFACE_NAME</span><br><span class="line">iface INTERFACE_NAME inet manual</span><br><span class="line">up ip link <span class="built_in">set</span> dev <span class="variable">$IFACE</span> up</span><br><span class="line">down ip link <span class="built_in">set</span> dev <span class="variable">$IFACE</span> down</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/deploy-openstack-o-on-self-privisoned-virtualbox-ubuntu-vms-manually/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="default">
    <link itemprop="mainEntityOfPage" href="https://note.siwei.info/my-hhkb-and-macos-setup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wey_pixel.png">
      <meta itemprop="name" content="Wey Gu | å¤æ€ä¸º">
      <meta itemprop="description" content="Build things.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Siwei notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/my-hhkb-and-macos-setup/" class="post-title-link" itemprop="url">my HHKB and macOS setup</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2018-12-21 17:32:39" itemprop="dateCreated datePublished" datetime="2018-12-21T17:32:39+08:00">2018-12-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-03 22:16:18" itemprop="dateModified" datetime="2020-07-03T22:16:18+08:00">2020-07-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/random-notes/" itemprop="url" rel="index"><span itemprop="name">random notes</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Key-mapping"><a href="#Key-mapping" class="headerlink" title="Key mapping"></a>Key mapping</h1><blockquote>
<p>å‡ ä¸ªæœˆå‰ï¼Œæˆ‘ä» <code>HHKB Lite2 for Mac</code>  åˆ‡æ¢åˆ°äº†  <code>HHKB Pro 2 Type-S</code>ï¼Œæ–¹å‘é”®éœ€è¦mapæˆ <code>Ctrl + h/ j/ k/ l</code> ï¼Œå‚è€ƒäº†@zjun çš„ <a href="http://www.zjunothing.com/2017/05/28/hhkb%E5%9F%BA%E6%9C%AC%E8%AE%BE%E7%BD%AE/" target="_blank" rel="noopener">best practise</a> ï¼Œç”¨åˆ°äº† <a href="http://www.hammerspoon.org/" target="_blank" rel="noopener">Hammerspoon</a>ï¼Œè¿™é‡Œè®°å½•ä¸€ä¸‹é…ç½®ã€‚</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">~/.hammerspoon</span><br><span class="line">â¯ cat init.lua</span><br></pre></td></tr></table></figure>



<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">pressFn</span><span class="params">(mods, key)</span></span></span><br><span class="line">	<span class="keyword">if</span> key == <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">		key = mods</span><br><span class="line">		mods = &#123;&#125;</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">()</span></span> hs.eventtap.keyStroke(mods, key, <span class="number">1000</span>) <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">remap</span><span class="params">(mods, key, pressFn)</span></span></span><br><span class="line">	hs.hotkey.bind(mods, key, pressFn, <span class="literal">nil</span>, pressFn)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>&#125;, <span class="string">'h'</span>, pressFn(<span class="string">'left'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>&#125;, <span class="string">'j'</span>, pressFn(<span class="string">'down'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>&#125;, <span class="string">'k'</span>, pressFn(<span class="string">'up'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>&#125;, <span class="string">'l'</span>, pressFn(<span class="string">'right'</span>))</span><br><span class="line"></span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'h'</span>, pressFn(&#123;<span class="string">'shift'</span>&#125;, <span class="string">'left'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'j'</span>, pressFn(&#123;<span class="string">'shift'</span>&#125;, <span class="string">'down'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'k'</span>, pressFn(&#123;<span class="string">'shift'</span>&#125;, <span class="string">'up'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'l'</span>, pressFn(&#123;<span class="string">'shift'</span>&#125;, <span class="string">'right'</span>))</span><br><span class="line"></span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'h'</span>, pressFn(&#123;<span class="string">'cmd'</span>&#125;, <span class="string">'left'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'j'</span>, pressFn(&#123;<span class="string">'cmd'</span>&#125;, <span class="string">'down'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'k'</span>, pressFn(&#123;<span class="string">'cmd'</span>&#125;, <span class="string">'up'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'l'</span>, pressFn(&#123;<span class="string">'cmd'</span>&#125;, <span class="string">'right'</span>))</span><br><span class="line"></span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'h'</span>, pressFn(&#123;<span class="string">'alt'</span>&#125;, <span class="string">'left'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'j'</span>, pressFn(&#123;<span class="string">'alt'</span>&#125;, <span class="string">'down'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'k'</span>, pressFn(&#123;<span class="string">'alt'</span>&#125;, <span class="string">'up'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'l'</span>, pressFn(&#123;<span class="string">'alt'</span>&#125;, <span class="string">'right'</span>))</span><br><span class="line"></span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'h'</span>, pressFn(&#123;<span class="string">'shift'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'left'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'j'</span>, pressFn(&#123;<span class="string">'shift'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'down'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'k'</span>, pressFn(&#123;<span class="string">'shift'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'up'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'l'</span>, pressFn(&#123;<span class="string">'shift'</span>, <span class="string">'cmd'</span>&#125;, <span class="string">'right'</span>))</span><br><span class="line"></span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'h'</span>, pressFn(&#123;<span class="string">'shift'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'left'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'j'</span>, pressFn(&#123;<span class="string">'shift'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'down'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'k'</span>, pressFn(&#123;<span class="string">'shift'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'up'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'shift'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'l'</span>, pressFn(&#123;<span class="string">'shift'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'right'</span>))</span><br><span class="line"></span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'h'</span>, pressFn(&#123;<span class="string">'cmd'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'left'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'j'</span>, pressFn(&#123;<span class="string">'cmd'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'down'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'k'</span>, pressFn(&#123;<span class="string">'cmd'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'up'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'l'</span>, pressFn(&#123;<span class="string">'cmd'</span>, <span class="string">'alt'</span>&#125;, <span class="string">'right'</span>))</span><br><span class="line"></span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>, <span class="string">'alt'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'h'</span>, pressFn(&#123;<span class="string">'cmd'</span>, <span class="string">'alt'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'left'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>, <span class="string">'alt'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'j'</span>, pressFn(&#123;<span class="string">'cmd'</span>, <span class="string">'alt'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'down'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>, <span class="string">'alt'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'k'</span>, pressFn(&#123;<span class="string">'cmd'</span>, <span class="string">'alt'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'up'</span>))</span><br><span class="line">remap(&#123;<span class="string">'ctrl'</span>, <span class="string">'cmd'</span>, <span class="string">'alt'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'l'</span>, pressFn(&#123;<span class="string">'cmd'</span>, <span class="string">'alt'</span>, <span class="string">'shift'</span>&#125;, <span class="string">'right'</span>))</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



        </div>
        

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wey Gu | å¤æ€ä¸º</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>
  <div class="addthis_inline_share_toolbox">
    <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e58de1403eb729d" async="async"></script>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/next-boot.js"></script>


  




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>




  

  


</body>
</html>
